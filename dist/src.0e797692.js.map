{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","arrMarkup","map","itemEl","document","createElement","classList","add","linkEl","href","imageEl","src","alt","dataset","source","appendChild","refs","galleryList","querySelector","lightBox","lightBoxImage","lightboxOverlay","closeLightBoxBtn","onPicturesClick","e","preventDefault","target","nodeName","window","addEventListener","onKeyboardClick","onCloseLightBox","removeEventListener","remove","code","goNPicture","n","activeIndex","nIndex","findIndex","item","length","append"],"mappings":"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","file":"src.0e797692.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nconst arrMarkup = galleryItems.map(({preview, original, description}) => {\n  const itemEl = document.createElement('li');\n  itemEl.classList.add('gallery__item');\n\n  const linkEl = document.createElement('a');\n  linkEl.classList.add('gallery__link');\n  linkEl.href = original;\n\n  const imageEl = document.createElement('img');\n  imageEl.classList.add('gallery__image');\n  imageEl.src = preview;\n  imageEl.alt = description;\n  imageEl.dataset.source = original;\n\n  linkEl.appendChild(imageEl);\n  itemEl.appendChild(linkEl);\n  return itemEl;\n});\n\nconst refs = {\n  galleryList: document.querySelector('.js-gallery'),\n  lightBox: document.querySelector('.js-lightbox'),\n  lightBoxImage: document.querySelector('.lightbox__image'),\n  lightboxOverlay: document.querySelector('.lightbox__overlay'),\n  closeLightBoxBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\n}\n\nrefs.galleryList.append(...arrMarkup);\n\nrefs.galleryList.addEventListener('click', onPicturesClick);\nrefs.closeLightBoxBtn.addEventListener('click', onCloseLightBox);\nrefs.lightboxOverlay.addEventListener('click', onCloseLightBox);\n\n\n\nfunction onPicturesClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'IMG') return;\n\n  window.addEventListener('keydown', onKeyboardClick);\n\n  refs.lightBoxImage.src = e.target.dataset.source;\n  refs.lightBoxImage.alt = e.target.alt;\n  refs.lightBox.classList.add('is-open');\n}\n\nfunction onCloseLightBox() {\n  window.removeEventListener('keydown', onKeyboardClick);\n\n  refs.lightBox.classList.remove('is-open');\n  refs.lightBoxImage.src = '';\n  refs.lightBoxImage.alt = '';\n\n\n}\n\nfunction onKeyboardClick(e) {\n  switch (e.code) {\n    case 'Escape':\n      onCloseLightBox()\n      break;\n    case 'ArrowLeft':\n      goNPicture(-1);\n      break;\n    case 'ArrowRight':\n      goNPicture(1);\n      break;\n  }\n}\n\nfunction goNPicture(n) {\n  const activeIndex = galleryItems.findIndex(item => item.original === refs.lightBoxImage.src);\n  const nIndex = activeIndex + n;\n  \n  if(nIndex < 0 || nIndex > galleryItems.length - 1) return;\n\n  refs.lightBoxImage.alt = galleryItems[nIndex].description;\n  refs.lightBoxImage.src = galleryItems[nIndex].original;\n}"]}